<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listas 2</title>
    <link rel="stylesheet" href="../styles.css">
</head>

<body>

    <section class="container">
        <h1>Listas 2</h1>
    </section>


    <script>
        /* ---------------------------------------- Listas ---------------------------------------- */
        // Nodo
        // Lista enlazada
        // Insertar un nodo al principio
        // Insertar un nodo al final
        // Insertar un nodo según posición
        // Largo de la lista
        // Imprimir la lista
        // Quitar el último nodo y devolver su valor
        // Invertir lista
        //
        //


        // ---------- Nodo ----------
        function Node(data) {
            this.data = data;
            this.next = null;
        }


        // ---------- Lista enlazada ----------
        function List() {
            this.head = null;
            this.len = 0;
        }


        // ---------- Insertar un nodo al principio ----------
        List.prototype.insertFirst = function (data) {
            let newNodo = new Node(data);
            if (this.head == null) {
                this.head = newNodo;
            } else {
                let current = this.head;
                this.head = newNodo;
                newNodo.next = current;
            }
            this.len++;
        }


        // ---------- Insertar un nodo al final ----------
        List.prototype.insertLast = function (data) {
            let newNodo = new Node(data);
            if (this.head == null) {
                this.head = newNodo;
            } else {
                current = this.head;
                while (current.next != null) {
                    current = current.next;
                }
                current.next = newNodo;
            }
            this.len++;
        }


        // ---------- Insertar un nodo según posición ----------
        List.prototype.addInPos = function (value, index) {

            if (index > this.size() - 1) {
                return false
            }

            if (index === 0) return this.insertFirst(value);

            const node = new Node(value);
            let current = this.head;
            let count = 0;
            let previous;
            while (count < index) {
                count++;
                previous = current;
                current = current.next
            }

            previous.next = node;
            node.next = current;
            this.len++
            return true;
        }


        // ---------- Largo de la lista ----------
        List.prototype.size = () => this.len;


        // ---------- Imprimir la lista ----------
        List.prototype.print = function () {
            current = this.head;

            if (!current) {
                console.log('La lista esta vacía.')
                return
            }

            while (current) {
                console.log(current.data);
                current = current.next;
            }
            return
        }


        // ---------- Quitar el último nodo y devolver su valor ----------
        List.prototype.removeLast = function () {
            let current = this.head
            let val = null

            // Lista vacía
            if (!current) {
                return null
            }

            // Tengo un elemento
            if (!current.next) {
                val = current.value
                this.head = null
                this.len--;
                return val
            }

            // Tengo más de un elemento
            while (current.next.next) {
                current = current.next
            }

            val = current.next.value
            current.next = null
            this.len--;
            return val
        }


        // ---------- Invertir lista ----------
        LinkedList.prototype.reverse = function () {
            let valores = [];
            let current = this.head;
            while (current !== null) {
                valores.push(current.value);
                current = current.next;
            }
            while (this.head !== null) {
                this.removeLast();
            }
            while (valores.length > 0) {
                this.insertLast(valores.pop());
            }
            //return this;
        }


        // ---------------------------------------------------------------------


        const list = new List()

        list.insertLast(44)
        list.insertLast(13)
        list.insertLast(28)

        list.print()
    </script>
</body>

</html>